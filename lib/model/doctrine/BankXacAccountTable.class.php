<?php

/**
 * BankXacAccountTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class BankXacAccountTable extends Doctrine_Table
{

    CONST ACCOUNT_DEALER = '5001138666';
    CONST ACCOUNT_DEALER_MOBICOM = '';
    CONST ACCOUNT_CALLPAYMENT = '5000005041';
    CONST ACCOUNT_PRODUCT_PAYMENT = '';
    CONST ACCOUNT_PRODUCT_MOBINET = '';
    CONST ACCOUNT_PRODUCT_ULUSNET = '';
    CONST ACCOUNT_PRODUCT_BAG = '';
    CONST ACCOUNT_MOBINET_PAYMENT = '5000236769';
    CONST ACCOUNT_MOBIFINANCE_CANDY = '5000954334';
    CONST ACCOUNT_USSD_TOPUP = '5001138676';
    CONST ACCOUNT_CANDY_CASHIN = '5002142626';

    /**
     * Returns an instance of this class.
     *
     * @return object BankXacAccountTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('BankXacAccount');
    }

    /**
     * 
     * @return \sfDoctrinePager
     */
    public static function getList($status = 0)
    {
        $q = Doctrine_Query::create()
                ->from('BankXacAccount');
        if ($status) {
            $q->where('is_active=1');
        }
        $rows = $q->execute();
        $res = array();
        foreach ($rows as $row) {
            $res[] = $row['account'];
        }

        return $res;
    }

    /**
     * Payment code
     *
     * @return object BankKhaanAccountTable
     */
    public static function getPaymentCode($account)
    {
        $code = 0;
        switch ($account) {
            case self::ACCOUNT_MOBINET_PAYMENT:
                $code = 'BNKND';
                break;
            case self::ACCOUNT_CALLPAYMENT:
                $code = 'BNKZN';
                break;
            default:
                break;
        }
        return $code;
    }

}
